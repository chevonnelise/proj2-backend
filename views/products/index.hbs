{{#extends "base"}}

{{#block "content"}}
<h1>All Products</h1>

<h2>Search</h2>
<form method="GET">
    {{{searchForm}}}
    <input type="submit" class="btn btn-outline-dark mt-3" />
</form>
<table class="table">
    <thead>
        <th>
            Product ID
        </th>
        <th>
            Brand
        </th>
        <th>
            Name
        </th>
        <th>
            Cost
        </th>
        <th>
            Description
        </th>
        <th>
            Quantity
        </th>
        <th>
            Category
        </th>
        <th>
            Tags
        </th>
        <th></th>
    </thead>
    {{#each products}}
    <tr>
        <td>
            {{this.id}}
        </td>
        <td>
            {{this.brand.name}}
        </td>
        <td>
            {{this.name}}
        </td>
        <td>
            {{this.cost}}
        </td>
        <td>
            {{this.description}}
        </td>
        <td>
            {{this.quantity}}
        </td>
        <td>
            {{this.category.name}}
        </td>
        <td>

             {{#each this.tags}}
            <label class="badge" style="color: rgb(0, 0, 0); background-color: rgb(151, 206, 95);">
                {{this.name}}
            </label>
            {{/each}}
        </td>
        </td>
        <td>
            <div style="display: flex; flex-direction: column;">
                <a href="/products/update-product/{{this.id}}" class="btn btn-primary">Update</a>
                <a href="/products/delete-product/{{this.id}}" class="btn btn-danger">Delete</a>
                <a href="/cart/{{this.id}}/add" class="btn btn-success">Add To Cart</a>
            </div>
        </td>
    </tr>
    {{/each}}
</table>

{{/block}}

{{/extends}}